<!-- gomarkdoc:embed:start -->

<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# sbcgostructgen

```go
import "github.com/barbell-math/smoothbrain-cgostructgen"
```

A very simple library that is used to generate struct definitions shared between Go and C through CGO.

## Index

- [Variables](<#variables>)
- [func GenerateFor\[T any\]\(c \*CGoStructGen\) error](<#GenerateFor>)
- [type CGoStructGen](<#CGoStructGen>)
  - [func New\(opts Opts\) \*CGoStructGen](<#New>)
  - [func \(c \*CGoStructGen\) WriteTo\(file string, headerStr string\) error](<#CGoStructGen.WriteTo>)
- [type Opts](<#Opts>)


## Variables

<a name="InvalidTypeErr"></a>

```go
var (
    InvalidTypeErr        = errors.New("Invalid Type")
    UnderspecifiedTypeErr = errors.New("Underspecified type")
    AnonymousNameErr      = errors.New("Anonymous name")
)
```

<a name="ErrInvalidfieldType"></a>

```go
var ErrInvalidfieldType = fmt.Errorf("not a valid fieldType, try [%s]", strings.Join(_fieldTypeNames, ", "))
```

<a name="ErrInvalidtypeMod"></a>

```go
var ErrInvalidtypeMod = fmt.Errorf("not a valid typeMod, try [%s]", strings.Join(_typeModNames, ", "))
```

<a name="GenerateFor"></a>
## func [GenerateFor](<https://github.com/barbell-math/smoothbrain-cgoStructGen/blob/main/structGen.go#L152>)

```go
func GenerateFor[T any](c *CGoStructGen) error
```

Adds the supplied type and all of its sub\-types to the struct generator. The type of T must be a struct or an error will be returned. The following field types are allowed in the struct:

- int8, int16, int32, int64
- uint8, uint16, uint32, uint64
- float32, float64
- string
- bool
- uintptr, unsafe.Pointer
- arrays and structs that are composed of the above types

Types will be recursively added. Types that are duplicated between struct definitions will not be duplicated in the output C code.

This funciton is intended to be called many times with the same value for the \`t\` argument. The \`t\` value will be updated with any newly\-found structs.

<a name="CGoStructGen"></a>
## type [CGoStructGen](<https://github.com/barbell-math/smoothbrain-cgoStructGen/blob/main/structGen.go#L56-L60>)



```go
type CGoStructGen struct {
    // contains filtered or unexported fields
}
```

<a name="New"></a>
### func [New](<https://github.com/barbell-math/smoothbrain-cgoStructGen/blob/main/structGen.go#L128>)

```go
func New(opts Opts) *CGoStructGen
```

Creates a new struct generator.

<a name="CGoStructGen.WriteTo"></a>
### func \(\*CGoStructGen\) [WriteTo](<https://github.com/barbell-math/smoothbrain-cgoStructGen/blob/main/structGen.go#L319>)

```go
func (c *CGoStructGen) WriteTo(file string, headerStr string) error
```

Writes all of the struct definitions that were previously added through calls to [GenerateFor](<#GenerateFor>) to the specified file.

<a name="Opts"></a>
## type [Opts](<https://github.com/barbell-math/smoothbrain-cgoStructGen/blob/main/structGen.go#L63-L71>)

Options that get passed to [New](<#New>) when creating a [CGoStructGen](<#CGoStructGen>) struct.

```go
type Opts struct {
    // If an error is encountered and this is true the error will be logged
    // and the program will exit with a non-zero exit code.
    ExitOnErr bool
    // Maps Go struct names to C struct names. If a Go struct is parsed that
    // has a name found in the keys of this map the corresponding C struct
    // will have the value from the map.
    StructRename map[string]string
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)


<!-- gomarkdoc:embed:end -->

## Helpful Developer Cmds

To build the build system:

```
go build -o ./bs/bs ./bs
```

The build system can then be used as usual:

```
./bs/bs --help
./bs/bs buildbs # Builds the build system!
```
